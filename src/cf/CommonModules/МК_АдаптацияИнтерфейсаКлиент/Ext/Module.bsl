
#Область ПрограммныйИнтерфейс

// Изменяет текст заголовка надписи в зависимости от видимости таблицы формы.
//
// Параметры:
//  ЭлементТаблицаФормы - ТаблицаФормы - Элемент формы, видимость которого учитывается.
//  ДанныеТаблицаФормы - ДанныеФормыДерево, ДинамическийСписок - Данные таблицы, для подсчета количества строк.
//  ДекорацияФормы - ДекорацияФормы - Декорация, заголовок которой нужно оформить.
//
Процедура ОформитьНадписьДляСкрытияТаблицы(ЭлементТаблицаФормы, ДанныеТаблицаФормы, ДекорацияФормы) Экспорт
	
	Треугольник = ?(ЭлементТаблицаФормы.Видимость = Ложь, Символ(9658),Символ(9660));
	ШаблонЗаголовка = "%1 %2%3";
	Количество = "";
	Если ТипЗнч(ДанныеТаблицаФормы) = Тип("ДанныеФормыДерево") Тогда
		ШаблонЗаголовка = "%1 %2 (%3)";
		Количество = Формат(ДанныеТаблицаФормы.ПолучитьЭлементы().Количество(), "ЧН=0; ЧГ=");
	ИначеЕсли ТипЗнч(ДанныеТаблицаФормы) = Тип("ДанныеФормыКоллекция") Тогда
		ШаблонЗаголовка = "%1 %2 (%3)";
		Количество = Формат(ДанныеТаблицаФормы.Количество(), "ЧН=0; ЧГ=");
	КонецЕсли;
	ДекорацияФормы.Заголовок = СтрШаблон(ШаблонЗаголовка, Треугольник, ДекорацияФормы.Подсказка, Количество);
	
КонецПроцедуры

#КонецОбласти
