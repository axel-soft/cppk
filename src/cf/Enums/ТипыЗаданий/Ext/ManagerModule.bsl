#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ПрограммныйИнтерфейс

// Возвращает описание типа
// 
// Параметры:
// 	Тип - ПеречислениеСсылка.ТипыЗаданий
// 	
// Возвращаемое значение: Структура(Сеанс (Строка - "Клиент" "Сервер"), ДолгоеЗадание(Булево))
// 	
Функция ОписаниеТипаЗадания(Тип) Экспорт
	
	ОписаниеТипа = Новый Структура ("Сеанс, ДолгоеЗадание");
	
	ТипЗаданий = Перечисления.ТипыЗаданий;
	
	Если Тип = ТипЗаданий.СтартоватьПроцесс Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.НачатьВыполнениеДействияПроцессом Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;			
	ИначеЕсли Тип = ТипЗаданий.НачатьВыполнениеДействияСогласованияПроцессом Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.НачатьВыполнениеДействияИсполненияПроцессами Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.НачатьВыполнениеДействияПроцессамиНовыеУчастники Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.НачатьВыполнениеДействияСогласованияПроцессомНовыеУчастники Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.СформироватьПроцессДляРассматривающегоДействияИсполнения Тогда			
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.СформироватьПроцессДляПунктаДействияИсполнения Тогда			
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.СформироватьПроцессДляИсполнителейДействияИсполнения Тогда			
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ПодготовитьПредметКСогласованиюВРежимеЗамечаний Тогда			
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.СоздатьHtmlПриНачалеСогласования Тогда			
		ОписаниеТипа.Сеанс = "Клиент";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ДобавитьТегиHtmlПриНачалеСогласованияБыстрый Тогда			
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ДобавитьТегиHtmlПриНачалеСогласованияДолгий Тогда			
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Истина;		
	ИначеЕсли Тип = ТипЗаданий.ПодготовкаОзнакомленияСогласования Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ОбновитьHtmlПередОзнакомлением Тогда			
		ОписаниеТипа.Сеанс = "Клиент";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ДобавитьТегиHtmlПередОзнакомлениемБыстрый Тогда			
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ДобавитьТегиHtmlПередОзнакомлениемДолгий Тогда			
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Истина;
	ИначеЕсли Тип = ТипЗаданий.ЗавершениеОзнакомленияСогласования Тогда			
		ОписаниеТипа.Сеанс = "Клиент";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ВыполнениеЗадачи Тогда			
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.МаршрутизацияКомплексногоПроцессаПослеВыполненияВложенного Тогда			
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;			
	ИначеЕсли Тип = ТипЗаданий.МаршрутизацияКомплексногоПроцессаПоСхемеПослеПродолжения Тогда			
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.МаршрутизацияКомплексногоПроцессаПослеВыполненияЗадачи Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.СформироватьПроцессДляОбработкиОбъекта Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.СформироватьДанныеДляПредпросмотраФайла Тогда			
		ОписаниеТипа.Сеанс = "Клиент";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ЗапускОбработкиПоЗадачеЭлемента Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ЗапускОбработкиПоОбработке Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ОбновитьДействиеОбработки Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ОбновитьОбработкуОбъекта Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ПереносСрокаВыполненияЗадачи Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ПеренаправлениеЗадачи Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ОбновитьЗадачуПоСостояниюДействия Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ОбновитьЗадачуПриПеренаправлении Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.СохранитьРезультатВыполненияВЗадачуПроцесса Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ПринятьКИсполнениюЗадачуПроцесса Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ОтменитьПринятиеКИсполнениюЗадачуПроцесса Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь; 
	ИначеЕсли Тип = ТипЗаданий.НачатьВыполнениеДействияМассовогоОзнакомления Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Истина;     
	ИначеЕсли Тип = ТипЗаданий.ОбновитьЗадачуУчастникаМассовогоОзнакомления Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Истина;
	ИначеЕсли Тип = ТипЗаданий.ОбработатьИзменениеКонтейнеровДля2ФА Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ПродолжитьВыполнениеОбработкиПослеЗавершенияОзнакомленияСОжиданием Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ОбновитьПроцессБезДействия Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ДобавитьУдалитьЗаполняемыйПредмет Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ПрерватьПроцесс Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ОстановитьПроцесс Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ПродолжитьПроцесс Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ОтменитьВыполнениеЗадачи Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ОстановитьОбработку Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ПродолжитьОбработку Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ПерейтиКВыполнениюДействияВнеОчереди Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ОбновитьДанныеЗадачПоЗамещению Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	ИначеЕсли Тип = ТипЗаданий.ОбновитьДействиеОзнакомленияЦеликомЕслиНужно Тогда
		ОписаниеТипа.Сеанс = "Сервер";
		ОписаниеТипа.ДолгоеЗадание = Ложь;
	Иначе
		ВызватьИсключение НСтр("ru = 'Неизвестный тип задания.'");
	КонецЕсли;	
	
	Возврат ОписаниеТипа;
	
КонецФункции	

// Вернет типы для обработки на сервере
// 
// Возвращаемое значение:
// 	Массив из ПеречислениеСсылка.ТипыЗаданий
Функция ТипыОбрабатываемыеНаСервере() Экспорт
	
	ТипыВозврата = Новый Массив;
	
	ДЛя Каждого Значение Из Перечисления.ТипыЗаданий Цикл
		
		Описание = ОписаниеТипаЗадания(Значение);
		Если Описание.Сеанс = "Сервер" Тогда
			ТипыВозврата.Добавить(Значение);
		КонецЕсли;	
		
	КонецЦикла;	
	
	Возврат ТипыВозврата;
	
КонецФункции	

// Вернет типы для обработки на сервере - долгие
// 
// Возвращаемое значение:
// 	Массив из ПеречислениеСсылка.ТипыЗаданий
Функция ТипыОбрабатываемыеНаСервереДолгие() Экспорт
	
	ТипыВозврата = Новый Массив;
	
	ДЛя Каждого Значение Из Перечисления.ТипыЗаданий Цикл
		
		Описание = ОписаниеТипаЗадания(Значение);
		Если Описание.Сеанс = "Сервер" И Описание.ДолгоеЗадание Тогда
			ТипыВозврата.Добавить(Значение);
		КонецЕсли;	
		
	КонецЦикла;	
	
	Возврат ТипыВозврата;
	
КонецФункции	

// Вернет типы для обработки на сервере - быстрые
// 
// Возвращаемое значение:
// 	Массив из ПеречислениеСсылка.ТипыЗаданий
Функция ТипыОбрабатываемыеНаСервереБыстрые() Экспорт
	
	ТипыВозврата = Новый Массив;
	
	ДЛя Каждого Значение Из Перечисления.ТипыЗаданий Цикл
		
		Описание = ОписаниеТипаЗадания(Значение);
		Если Описание.Сеанс = "Сервер" И Не Описание.ДолгоеЗадание Тогда
			ТипыВозврата.Добавить(Значение);
		КонецЕсли;	
		
	КонецЦикла;	
	
	Возврат ТипыВозврата;
	
КонецФункции	

// Вернет типы для обработки на клиенте
// 
// Возвращаемое значение:
// 	Массив из ПеречислениеСсылка.ТипыЗаданий
Функция ТипыОбрабатываемыеНаКлиенте() Экспорт
	
	ТипыВозврата = Новый Массив;
	
	ДЛя Каждого Значение Из Перечисления.ТипыЗаданий Цикл
		
		Описание = ОписаниеТипаЗадания(Значение);
		Если Описание.Сеанс = "Клиент" Тогда
			ТипыВозврата.Добавить(Значение);
		КонецЕсли;	
		
	КонецЦикла;	
	
	Возврат ТипыВозврата;
	
КонецФункции	

#КонецОбласти

#КонецЕсли