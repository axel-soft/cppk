
&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	
	ПоказатьВопрос(
		Новый ОписаниеОповещения(
			"ОбработкаКомандыПослеВопроса",
			ЭтотОбъект,
			Новый Структура("Узел", ПараметрКоманды)),
		СтрШаблон(НСтр("ru = 'Начать процедуру переноса настроек и исторических данных в %1?'"), ПараметрКоманды),
		РежимДиалогаВопрос.ДаНет);
	
КонецПроцедуры

&НаКлиенте
Процедура ОбработкаКомандыПослеВопроса(Результат, ПараметрыОповещения) Экспорт
	
	Если Результат <> КодВозвратаДиалога.Да Тогда
		Возврат;
	КонецЕсли;
	
	НачатьПереносИсторическихДанныхВУзелКОД(ПараметрыОповещения.Узел);
	
	ТекстСообщения = СтрШаблон(
		Нстр("ru = 'Начат перенос исторических данных в узел %1. Процесс переноса может занять от нескольких минут до нескольких часов в зависимости от объема данных.'",
			ОбщегоНазначенияКлиент.КодОсновногоЯзыка()),
		ПараметрыОповещения.Узел);
		
	ПоказатьПредупреждение(, ТекстСообщения);
	
КонецПроцедуры

&НаСервере
Процедура НачатьПереносИсторическихДанныхВУзелКОД(Узел)
	
	КОДСлужебный.НачатьПереносИсторическихДанныхВУзелКОД(Узел);
	
КонецПроцедуры