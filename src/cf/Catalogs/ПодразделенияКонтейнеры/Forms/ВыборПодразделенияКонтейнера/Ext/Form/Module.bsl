#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Подразделение = Параметры.Подразделение;
	СпособВключенияПодчиненных = Параметры.СпособВключенияПодчиненных;
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура Готово(Команда)

	ОчиститьСообщения();
	Если Не ПроверитьЗаполнение() Тогда
		Возврат;
	КонецЕсли;
	
	РезультатВыбора = ПараметрыЗакрытия();
	ОповеститьОВыборе(РезультатВыбора);
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Функция ПараметрыЗакрытия()
	
	Результат = Новый Структура;
	
	Результат.Вставить("Подразделение", Подразделение);
	Результат.Вставить("ПодразделениеКонтейнер",
		Справочники.ПодразделенияКонтейнеры.НайтиСоздатьПодразделениеКонтейнер(
			Подразделение, СпособВключенияПодчиненных));
	
	Возврат Результат;
	
КонецФункции

#КонецОбласти