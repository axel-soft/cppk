#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ДействуетС = Параметры.ДействуетС;
	ДействуетПо = Параметры.ДействуетПо;
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура Ок(Команда)
	
	Если Не ЗначениеЗаполнено(ДействуетС) Тогда
		ПоказатьПредупреждение(, НСтр("ru = 'Поле ""Действует с"" не заполнено.'"));
		Возврат;
	
	ИначеЕсли ЗначениеЗаполнено(ДействуетС) И ЗначениеЗаполнено(ДействуетПо) 
		И ДействуетС >= КонецДня(ДействуетПо) Тогда
		ПоказатьПредупреждение(,
			СтрШаблон(НСтр("ru = 'У интервала (%1, %2) дата начала больше или равна чем дата окончания. 
			|Укажите другие даты.'"), 
			Формат(ДействуетС, "ДЛФ=D"),
			Формат(ДействуетПо, "ДЛФ=D")));
		Возврат;
	КонецЕсли;	
			
	ПараметрыЗакрытия = Новый Структура;
	ПараметрыЗакрытия.Вставить("ДействуетС", ДействуетС);
	ПараметрыЗакрытия.Вставить("ДействуетПо", ДействуетПо);
	Закрыть(ПараметрыЗакрытия);
	
КонецПроцедуры

#КонецОбласти
