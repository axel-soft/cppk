
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если ЗначениеЗаполнено(Параметры.Заголовок) Тогда
		Заголовок = Параметры.Заголовок;
	КонецЕсли;
	
	Если ЗначениеЗаполнено(Параметры.РегистрационныйНомер) Тогда 
		РегистрационныйНомер = Параметры.РегистрационныйНомер;
	КонецЕсли;
	
	Если ЗначениеЗаполнено(Параметры.ДатаРегистрации) Тогда 
		ДатаРегистрации = Параметры.ДатаРегистрации;
	Иначе
		ДатаРегистрации = ТекущаяДатаСеанса();
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура Готово(Команда)
	
	Если Не ЗначениеЗаполнено(РегистрационныйНомер) Тогда
		ОчиститьСообщения();
		ОбщегоНазначенияКлиент.СообщитьПользователю(
			НСтр("ru = 'Не указан регистрационный номер'"),, "РегистрационныйНомер");
		Возврат;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ДатаРегистрации) Тогда
		ОчиститьСообщения();
		ОбщегоНазначенияКлиент.СообщитьПользователю(
			НСтр("ru = 'Не указана дата регистрации'"),, "ДатаРегистрации");
		Возврат;
	КонецЕсли;
	
	Закрыть(Новый Структура ("РегистрационныйНомер, ДатаРегистрации", РегистрационныйНомер, ДатаРегистрации));
	
КонецПроцедуры

&НаКлиенте
Процедура Отмена(Команда)
	
	Закрыть();
	
КонецПроцедуры

#КонецОбласти