
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)

	Процесс = Параметры.Ключ;
	
	НавигационнаяСсылка = ПолучитьНавигационнуюСсылку(Процесс);
	
	РеквизитыПроцесса = 
		ОбщегоНазначенияДокументооборот.ЗначенияРеквизитовОбъектаВПривилегированномРежиме(Процесс,
		"Ссылка,
		|ДатаНачала,
		|ДатаЗавершения,
		|Состояние,
		|Стартован,
		|Завершен,
		|Предметы,
		|ПричинаПрерывания");
		
	ЗаполнитьЗначенияСвойств(ЭтотОбъект, РеквизитыПроцесса);
	
	ОбработкаОбъекта = РегистрыСведений.ПроцессыОбработокОбъектов.ОбработкаПоПроцессу(Процесс);
	
	ОбъектОбработки = 
		ОбщегоНазначенияДокументооборот.ЗначениеРеквизитаОбъектаВПривилегированномРежиме(
		ОбработкаОбъекта, "Владелец");
		
	Заголовок = Строка(Процесс);
	
	РаботаСПроцессамиПоОбработкамОбъектов.ОбновитьДлительностьПроцесса(ЭтотОбъект);
	РаботаСПроцессамиПоОбработкамОбъектов.ОбновитьОписаниеСостоянияПроцесса(ЭтотОбъект);
	
	ФорматДаты = "ДФ='dd.MM.yyyy HH:mm'";
	Элементы.ЗадачиДата.Формат = ФорматДаты;
	Элементы.ЗадачиДатаВыполнения.Формат = ФорматДаты;
	
	Задачи.Параметры.УстановитьЗначениеПараметра("БизнесПроцесс", Процесс);
	
	РаботаСПроцессамиПоОбработкамОбъектов.УстановитьУсловноеОформлениеСпискаЗадачПроцесса(ЭтотОбъект);
	
КонецПроцедуры

#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура ДекорацияОписаниеНажатие(Элемент)
	
	РаботаСПроцессамиПоОбработкамОбъектовКлиент.ОбработатьНажатиеНаОписаниеСостоянияПроцесса(
		ЭтотОбъект);
		
КонецПроцедуры

#КонецОбласти

#КонецОбласти