
&ИзменениеИКонтроль("ЗадатьВопросОПодзадачахПриВыполненииЗадачи")
Процедура ЦППК_ЗадатьВопросОПодзадачахПриВыполненииЗадачи(ЗадачиМнеТекущаяЗадача, ОписаниеОповещения)
	
#Вставка
	// Выполнить без подзадач / 24.01.2024г. / Князев Д.С.
	Если ОписаниеОповещения.ИмяПроцедуры = "ОбработатьДанныеВыполненияПослеВопросаОПодзадачах" Тогда
		ИнтеграцияЗадачКлиент.ОбработатьДанныеВыполненияПослеВопросаОПодзадачах("ИгнорироватьПодзадачи", ОписаниеОповещения.ДополнительныеПараметры);
		Возврат; // выход из процедуры
	КонецЕсли;
#КонецВставки

	ТекстВопроса = НСтр("ru = 'Есть невыполненные подзадачи.
	|Выберите, что делать с главной задачей:'");

	Кнопки = Новый СписокЗначений;
	Кнопки.Добавить("ИгнорироватьПодзадачи", НСтр("ru = 'Выполнить без подзадач'"));
	Кнопки.Добавить("ПрерватьПодзадачи", НСтр("ru = 'Выполнить, прервав подзадачи'"));
	Кнопки.Добавить(КодВозвратаДиалога.Отмена, НСтр("ru = 'Отменить действие'"));

	ПоказатьВопрос(ОписаниеОповещения, ТекстВопроса, Кнопки);

КонецПроцедуры
